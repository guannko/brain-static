<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Brain Index - Admin Dashboard</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.min.css" rel="stylesheet">
  <!-- Your custom styles -->
  <link href="css/style.min.css" rel="stylesheet">
  <style>
    body { 
      background-color: #f8f9fa; 
      font-family: 'Inter', sans-serif;
    }
    .sidebar { 
      min-height: 100vh; 
      background: #212529; 
      position: fixed;
      width: 250px;
      padding-top: 20px;
    }
    .sidebar .nav-link { 
      color: #999; 
      padding: 10px 20px;
      border-radius: 5px;
      margin-bottom: 5px;
    }
    .sidebar .nav-link:hover { color: #fff; }
    .sidebar .nav-link.active { 
      color: #fff; 
      background: #0d6efd; 
    }
    .sidebar .nav-link i {
      margin-right: 10px;
    }
    .main-content {
      margin-left: 250px;
      padding: 20px;
      margin-top: 60px;
    }
    .stat-card { 
      border-left: 4px solid; 
      transition: transform 0.3s;
    }
    .stat-card:hover {
      transform: translateY(-3px);
    }
    .stat-card.primary { border-left-color: #0d6efd; }
    .stat-card.success { border-left-color: #198754; }
    .stat-card.warning { border-left-color: #ffc107; }
    .stat-card.danger { border-left-color: #dc3545; }
    .navbar {
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card {
      border: none;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .table th {
      border-top: none;
      font-weight: 600;
    }
    .badge-status {
      padding: 6px 12px;
      border-radius: 20px;
    }
    @media (max-width: 768px) {
      .sidebar { 
        width: 100%; 
        height: auto; 
        position: relative; 
      }
      .main-content { 
        margin-left: 0; 
        margin-top: 20px;
      }
    }
  </style>
</head>
<body>
  
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html" style="font-size: 1.5rem; font-family: system-ui;">
        <span style="color: #000; font-weight: 800;">BRAIN</span> 
        <span style="color: #FF9500; font-weight: 400;">INDEX</span>
        <small class="text-muted ml-2">Admin</small>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-toggle="dropdown">
              <i class="fas fa-user-shield mr-1"></i> Admin
            </a>
            <ul class="dropdown-menu dropdown-menu-right">
              <li><a class="dropdown-item" href="dashboard.html"><i class="fas fa-tachometer-alt mr-2"></i>User Dashboard</a></li>
              <li><a class="dropdown-item" href="#"><i class="fas fa-cog mr-2"></i>Settings</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt mr-2"></i>Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <nav class="col-md-3 col-lg-2 d-md-block sidebar">
        <div class="position-sticky pt-3">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="#dashboard">
                <i class="fas fa-chart-pie"></i> Overview
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#users">
                <i class="fas fa-users"></i> Users
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#analyses">
                <i class="fas fa-brain"></i> Analyses
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#subscriptions">
                <i class="fas fa-credit-card"></i> Subscriptions
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#revenue">
                <i class="fas fa-euro-sign"></i> Revenue
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#settings">
                <i class="fas fa-cog"></i> Settings
              </a>
            </li>
            <li class="nav-item mt-4">
              <a class="nav-link text-danger" href="#logout">
                <i class="fas fa-sign-out-alt"></i> Logout
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- Main content -->
      <main class="col-md-9 ml-sm-auto col-lg-10 px-md-4 main-content">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2">Admin Dashboard</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
              <button type="button" class="btn btn-sm btn-outline-secondary">
                <i class="fas fa-download mr-1"></i> Export
              </button>
            </div>
            <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle" data-toggle="dropdown">
              <i class="fas fa-calendar mr-1"></i> This week
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="#">Today</a>
              <a class="dropdown-item" href="#">This week</a>
              <a class="dropdown-item" href="#">This month</a>
            </div>
          </div>
        </div>

        <!-- Stats Cards -->
        <div class="row mb-4">
          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card primary h-100">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Total Users</h5>
                    <span class="h2 font-weight-bold mb-0" id="totalUsers">2,845</span>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-users fa-2x text-primary"></i>
                  </div>
                </div>
                <p class="text-muted small mt-3 mb-0">
                  <i class="fas fa-arrow-up text-success"></i> 12% from last month
                </p>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card success h-100">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Revenue</h5>
                    <span class="h2 font-weight-bold mb-0" id="totalRevenue">€45,231</span>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-euro-sign fa-2x text-success"></i>
                  </div>
                </div>
                <p class="text-muted small mt-3 mb-0">
                  <i class="fas fa-arrow-up text-success"></i> 23% from last month
                </p>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card warning h-100">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">AI Checks</h5>
                    <span class="h2 font-weight-bold mb-0" id="totalChecks">12,468</span>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-brain fa-2x text-warning"></i>
                  </div>
                </div>
                <p class="text-muted small mt-3 mb-0">
                  <i class="fas fa-arrow-up text-success"></i> 8% from yesterday
                </p>
              </div>
            </div>
          </div>

          <div class="col-xl-3 col-md-6 mb-4">
            <div class="card stat-card danger h-100">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Active Plans</h5>
                    <span class="h2 font-weight-bold mb-0" id="activePlans">892</span>
                  </div>
                  <div class="col-auto">
                    <i class="fas fa-credit-card fa-2x text-danger"></i>
                  </div>
                </div>
                <p class="text-muted small mt-3 mb-0">
                  <i class="fas fa-arrow-down text-danger"></i> 2% from last week
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts Row -->
        <div class="row mb-4">
          <div class="col-md-8">
            <div class="card">
              <div class="card-header">
                <h5 class="mb-0">Revenue Trend</h5>
              </div>
              <div class="card-body">
                <canvas id="revenueChart" height="100"></canvas>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="card-header">
                <h5 class="mb-0">Plan Distribution</h5>
              </div>
              <div class="card-body">
                <canvas id="planChart" height="200"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Recent Users Table -->
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">Recent Users</h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Plan</th>
                    <th>Status</th>
                    <th>Joined</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="usersTable">
                  <tr>
                    <td>#2845</td>
                    <td>John Doe</td>
                    <td>john@example.com</td>
                    <td><span class="badge badge-primary badge-status">Professional</span></td>
                    <td><span class="badge badge-success badge-status">Active</span></td>
                    <td>Jan 15, 2025</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary">View</button>
                      <button class="btn btn-sm btn-outline-warning">Edit</button>
                      <button class="btn btn-sm btn-outline-danger">Suspend</button>
                    </td>
                  </tr>
                  <tr>
                    <td>#2844</td>
                    <td>Jane Smith</td>
                    <td>jane@company.com</td>
                    <td><span class="badge badge-info badge-status">Starter</span></td>
                    <td><span class="badge badge-success badge-status">Active</span></td>
                    <td>Jan 14, 2025</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary">View</button>
                      <button class="btn btn-sm btn-outline-warning">Edit</button>
                      <button class="btn btn-sm btn-outline-danger">Suspend</button>
                    </td>
                  </tr>
                  <tr>
                    <td>#2843</td>
                    <td>Bob Wilson</td>
                    <td>bob@agency.com</td>
                    <td><span class="badge badge-warning badge-status">Enterprise</span></td>
                    <td><span class="badge badge-success badge-status">Active</span></td>
                    <td>Jan 13, 2025</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary">View</button>
                      <button class="btn btn-sm btn-outline-warning">Edit</button>
                      <button class="btn btn-sm btn-outline-danger">Suspend</button>
                    </td>
                  </tr>
                  <tr>
                    <td>#2842</td>
                    <td>Alice Johnson</td>
                    <td>alice@startup.io</td>
                    <td><span class="badge badge-light badge-status">Free</span></td>
                    <td><span class="badge badge-warning badge-status">Trial</span></td>
                    <td>Jan 12, 2025</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary">View</button>
                      <button class="btn btn-sm btn-outline-warning">Edit</button>
                      <button class="btn btn-sm btn-outline-danger">Suspend</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

      </main>
    </div>
  </div>

  <!-- SCRIPTS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/mdb.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Admin Dashboard JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      initAdminCharts();
      loadAdminStats();
    });

    function initAdminCharts() {
      // Revenue Chart
      const revenueCtx = document.getElementById('revenueChart').getContext('2d');
      new Chart(revenueCtx, {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Revenue (€)',
            data: [25000, 28000, 31000, 35000, 42000, 45000],
            borderColor: '#28a745',
            backgroundColor: 'rgba(40, 167, 69, 0.1)',
            tension: 0.4,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return '€' + value.toLocaleString();
                }
              }
            }
          }
        }
      });

      // Plan Distribution Chart
      const planCtx = document.getElementById('planChart').getContext('2d');
      new Chart(planCtx, {
        type: 'doughnut',
        data: {
          labels: ['Free', 'Starter', 'Professional', 'Enterprise'],
          datasets: [{
            data: [45, 30, 20, 5],
            backgroundColor: ['#e9ecef', '#17a2b8', '#007bff', '#ffc107']
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { 
              position: 'bottom',
              labels: { usePointStyle: true }
            }
          }
        }
      });
    }

    function loadAdminStats() {
      // Simulate loading real-time stats
      const stats = {
        users: Math.floor(Math.random() * 500) + 2500,
        revenue: Math.floor(Math.random() * 10000) + 40000,
        checks: Math.floor(Math.random() * 2000) + 11000,
        plans: Math.floor(Math.random() * 100) + 850
      };

      // Animate counters
      animateCounter('totalUsers', stats.users);
      animateCounter('totalRevenue', stats.revenue, '€');
      animateCounter('totalChecks', stats.checks);
      animateCounter('activePlans', stats.plans);
    }

    function animateCounter(elementId, targetValue, prefix = '') {
      const element = document.getElementById(elementId);
      const duration = 1000;
      const start = 0;
      const increment = targetValue / (duration / 16);
      let current = start;

      const timer = setInterval(() => {
        current += increment;
        if (current >= targetValue) {
          current = targetValue;
          clearInterval(timer);
        }
        element.textContent = prefix + Math.floor(current).toLocaleString();
      }, 16);
    }

    // Refresh stats every 30 seconds
    setInterval(loadAdminStats, 30000);
  </script>
</body>
</html>